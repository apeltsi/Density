document.addEventListener("keydown",logKey),document.addEventListener("keyup",logKeyUp);var keysDown=[];function logKey(e){for(var n=0;n<keysDown.length;n++)if(keysDown[n].key==e.code)return void(keysDown[n]=new KeyDown(e.code,(new Date).getTime(),!1));keysDown[keysDown.length]=new KeyDown(e.code,(new Date).getTime(),!0)}function logKeyUp(e){for(var n=0;n<keysDown.length;n++)if(keysDown[n].key==e.code)return void keysDown.splice(n,1)}function getKey(e){for(var n="Key"+e.toLowerCase(),o=[],y=0;y<keysDown.length;y++)(new Date).getTime()-keysDown[y].timeondown<1500&&o.push(keysDown[y]);keysDown=o;for(y=0;y<keysDown.length;y++)if(keysDown[y].key=="Key"+e||keysDown[y].key==n||keysDown[y].key==e)return!0;return!1}function getKeyOnce(e){for(var n="Key"+e.toLowerCase(),o=[],y=!1,t=0;t<keysDown.length;t++)(new Date).getTime()-keysDown[t].timeondown<500&&keysDown[t].key!="Key"+e&&keysDown[t].key!=n&&keysDown[t].key!=e?o.push(keysDown[t]):(new Date).getTime()-keysDown[t].timeondown<500&&(y=!0);return keysDown=o,y}function getAllKeys(){return keysDown}function getAllKeysOnce(){var e=keysDown;return keysDown=[],e}function KeyDown(e,n,o){this.key=e,this.timeondown=n,this.downFrame=o}